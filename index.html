<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Event Spend Calculator</title>
  <style>
    :root{
      --bg:#ffffff;
      --fg:#000000;
      --muted:#333333;
      --card:#ffffff;
      --border:#d9d9d9;
      --soft:#f6f6f6;
      --focus:#000000;
      --shadow: 0 10px 25px rgba(0,0,0,.08);
      --radius: 14px;
    }

    *{ box-sizing:border-box; }
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
      background:var(--bg);
      color:var(--fg);
      line-height:1.35;
    }

    header{
      position:sticky;
      top:0;
      background:var(--bg);
      border-bottom:1px solid var(--border);
      z-index:10;
    }
    .wrap{ max-width:1100px; margin:0 auto; padding:18px 16px; }

    .topbar{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
    }

    .brand{
      display:flex;
      align-items:center;
      gap:12px;
      min-width:0;
    }

    .logo{
      width:44px;
      height:44px;
      border:2px solid var(--fg);
      border-radius:10px;
      display:grid;
      place-items:center;
      font-weight:800;
      letter-spacing:.5px;
      flex:0 0 auto;
    }
    .brand h1{
      font-size:16px;
      margin:0;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
    }
    .brand p{
      margin:2px 0 0;
      font-size:12px;
      color:var(--muted);
    }

    .menuBtn{
      width:44px;
      height:44px;
      border:1px solid var(--border);
      background:var(--bg);
      border-radius:12px;
      display:grid;
      place-items:center;
      cursor:pointer;
    }
    .burger{
      width:18px;
      height:12px;
      display:flex;
      flex-direction:column;
      justify-content:space-between;
    }
    .burger span{
      display:block;
      height:2px;
      background:var(--fg);
      border-radius:999px;
    }

    main .grid{
      display:grid;
      grid-template-columns: 1.05fr .95fr;
      gap:18px;
      align-items:start;
      padding:18px 0 24px;
    }
    @media (max-width: 980px){
      main .grid{ grid-template-columns:1fr; }
    }

    .card{
      background:var(--card);
      border:1px solid var(--border);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      padding:16px;
    }

    .card h2{
      margin:0 0 12px;
      font-size:15px;
      letter-spacing:.2px;
    }

    .row{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:12px;
    }
    @media (max-width: 520px){
      .row{ grid-template-columns:1fr; }
    }

    .field{
      display:flex;
      flex-direction:column;
      gap:6px;
      margin-bottom:12px;
    }
    label{
      font-size:12px;
      color:var(--muted);
    }
    input{
      width:100%;
      padding:12px 12px;
      border:1px solid var(--border);
      border-radius:12px;
      background:var(--bg);
      color:var(--fg);
      outline:none;
      font-size:14px;
    }
    input:focus{
      border-color:var(--focus);
      box-shadow: 0 0 0 3px rgba(0,0,0,.10);
    }

    .pillNote{
      background:var(--soft);
      border:1px solid var(--border);
      border-radius:12px;
      padding:10px 12px;
      font-size:12px;
      color:var(--muted);
      margin-top:6px;
    }

    .btnRow{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      margin-top:10px;
    }
    button{
      border-radius:12px;
      padding:12px 14px;
      border:1px solid var(--fg);
      background:var(--fg);
      color:var(--bg);
      font-weight:700;
      cursor:pointer;
      font-size:14px;
    }
    button.secondary{
      background:var(--bg);
      color:var(--fg);
      border-color:var(--border);
      font-weight:600;
    }

    .results .big{
      font-size:22px;
      font-weight:900;
      margin:4px 0 0;
    }
    .results .sub{
      color:var(--muted);
      font-size:12px;
      margin:0;
    }

    .divider{ height:1px; background:var(--border); margin:14px 0; }

    .kv{
      display:flex;
      justify-content:space-between;
      gap:10px;
      padding:8px 0;
      border-bottom:1px dashed var(--border);
      font-size:13px;
    }
    .kv:last-child{ border-bottom:none; }
    .kv .k{ color:var(--muted); }
    .kv .v{ font-weight:800; text-align:right; }

    .badge{
      display:inline-block;
      font-size:11px;
      padding:6px 10px;
      border:1px solid var(--border);
      border-radius:999px;
      background:var(--soft);
      color:var(--muted);
      margin-top:8px;
    }

    footer{
      border-top:1px solid var(--border);
      color:var(--muted);
      font-size:12px;
    }
  </style>
</head>

<body>
<header>
  <div class="wrap">
    <div class="topbar">
      <div class="brand">
        <div class="logo">ML</div>
        <div style="min-width:0">
          <h1>Event Spend Calculator</h1>
          <p>White background • Black text • Includes Room Hire + Dry Hire + Security in totals</p>
        </div>
      </div>

      <button class="menuBtn" type="button" aria-label="Menu">
        <div class="burger" aria-hidden="true">
          <span></span><span></span><span></span>
        </div>
      </button>
    </div>
  </div>
</header>

<main>
  <div class="wrap">
    <div class="grid">
      <!-- INPUTS -->
      <section class="card">
        <h2>Inputs</h2>

        <div class="row">
          <div class="field">
            <label for="adults">Adults (primary denominator)</label>
            <input id="adults" type="number" min="0" step="1" value="80" />
          </div>
          <div class="field">
            <label for="children">Children</label>
            <input id="children" type="number" min="0" step="1" value="20" />
          </div>
        </div>

        <div class="row">
          <div class="field">
            <label for="adultSpend">Average spend per Adult ($)</label>
            <input id="adultSpend" type="number" min="0" step="0.01" value="95" />
          </div>
          <div class="field">
            <label for="childSpend">Average spend per Child ($)</label>
            <input id="childSpend" type="number" min="0" step="0.01" value="55" />
          </div>
        </div>

        <div class="divider"></div>

        <!-- IMPORTANT: These are included within the pool of sums, in order -->
        <div class="row">
          <div class="field">
            <label for="roomHire">Room Hire ($)</label>
            <input id="roomHire" type="number" min="0" step="0.01" value="0" />
          </div>
          <div class="field">
            <label for="dryHire">Dry Hire ($)</label>
            <input id="dryHire" type="number" min="0" step="0.01" value="0" />
          </div>
        </div>

        <div class="row">
          <div class="field">
            <label for="security">Security ($)</label>
            <input id="security" type="number" min="0" step="0.01" value="0" />
          </div>
          <div class="field">
            <label for="notes">Notes (optional)</label>
            <input id="notes" type="text" placeholder="e.g., Saturday night wedding" />
          </div>
        </div>

        <div class="pillNote">
          <strong>Calculation order:</strong>
          (1) Food/Spend totals → (2) + Room Hire → (3) + Dry Hire → (4) + Security → (5) Grand Total & per-person indicators.
        </div>

        <div class="btnRow">
          <button id="calcBtn" type="button">Calculate</button>
          <button id="resetBtn" class="secondary" type="button">Reset</button>
        </div>

        <span class="badge">Tip: Change any number—results auto-update too.</span>
      </section>

      <!-- RESULTS -->
      <aside class="card results" aria-live="polite">
        <h2>Results</h2>
        <p class="sub">Grand Total (includes Room Hire + Dry Hire + Security)</p>
        <div class="big" id="grandTotal">$0.00</div>

        <div class="divider"></div>

        <div class="kv">
          <div class="k">Total guests</div>
          <div class="v" id="totalGuests">0</div>
        </div>

        <div class="kv">
          <div class="k">Food/Spend total (Adults + Children)</div>
          <div class="v" id="spendTotal">$0.00</div>
        </div>

        <div class="kv">
          <div class="k">Room Hire</div>
          <div class="v" id="roomHireOut">$0.00</div>
        </div>

        <div class="kv">
          <div class="k">Dry Hire</div>
          <div class="v" id="dryHireOut">$0.00</div>
        </div>

        <div class="kv">
          <div class="k">Security</div>
          <div class="v" id="securityOut">$0.00</div>
        </div>

        <div class="divider"></div>

        <div class="kv">
          <div class="k"><strong>Indicative cost per Adult (primary)</strong></div>
          <div class="v" id="perAdult">$0.00</div>
        </div>

        <div class="kv">
          <div class="k">Weighted average per Guest (Adults+Children)</div>
          <div class="v" id="perGuest">$0.00</div>
        </div>

        <div class="kv">
          <div class="k">Adults-only baseline (for reference)</div>
          <div class="v" id="adultBaseline">$0.00</div>
        </div>

        <div class="pillNote" id="summaryLine">
          Summary will appear here.
        </div>
      </aside>
    </div>
  </div>
</main>

<footer>
  <div class="wrap">
    © <span id="year"></span> The Members Lounge • Simple calculator (edit as needed)
  </div>
</footer>

<script>
  const $ = (id) => document.getElementById(id);

  function num(id){
    const v = parseFloat($(id).value);
    return Number.isFinite(v) ? v : 0;
  }

  function intNum(id){
    const v = parseInt($(id).value, 10);
    return Number.isFinite(v) ? v : 0;
  }

  function money(x){
    const n = Number.isFinite(x) ? x : 0;
    return n.toLocaleString(undefined, { style:"currency", currency:"AUD" });
  }

  function calculate(){
    const adults = Math.max(0, intNum("adults"));
    const children = Math.max(0, intNum("children"));

    const adultSpend = Math.max(0, num("adultSpend"));
    const childSpend = Math.max(0, num("childSpend"));

    const roomHire = Math.max(0, num("roomHire"));
    const dryHire  = Math.max(0, num("dryHire"));
    const security = Math.max(0, num("security"));

    const totalGuests = adults + children;

    // (1) Food/Spend totals
    const spendTotal = (adults * adultSpend) + (children * childSpend);

    // (2) + Room Hire  (3) + Dry Hire  (4) + Security  -> Grand Total
    const grandTotal = spendTotal + roomHire + dryHire + security;

    // Per-person indicators
    const perAdult = adults > 0 ? (grandTotal / adults) : 0; // primary denominator
    const perGuest = totalGuests > 0 ? (grandTotal / totalGuests) : 0; // weighted by headcount
    const adultBaseline = adults * adultSpend; // just a reference line

    // Output
    $("grandTotal").textContent = money(grandTotal);
    $("totalGuests").textContent = totalGuests.toLocaleString();

    $("spendTotal").textContent = money(spendTotal);
    $("roomHireOut").textContent = money(roomHire);
    $("dryHireOut").textContent = money(dryHire);
    $("securityOut").textContent = money(security);

    $("perAdult").textContent = money(perAdult);
    $("perGuest").textContent = money(perGuest);
    $("adultBaseline").textContent = money(adultBaseline);

    const notes = $("notes").value?.trim();
    const notePart = notes ? ` Notes: ${notes}.` : "";
    $("summaryLine").textContent =
      `For ${totalGuests} guests (${adults} adults, ${children} children), the grand total is ${money(grandTotal)}.` +
      ` Indicative cost per adult (primary) is ${money(perAdult)}; weighted average per guest is ${money(perGuest)}.` +
      notePart;

    // gentle guard rails
    if (adults === 0){
      $("perAdult").textContent = "—";
      $("summaryLine").textContent =
        `Adults is set to 0, so “per adult” can’t be calculated. Grand total is ${money(grandTotal)}.` +
        ` Weighted average per guest is ${money(perGuest)}.` +
        notePart;
    }
  }

  function resetAll(){
    $("adults").value = 80;
    $("children").value = 20;
    $("adultSpend").value = 95;
    $("childSpend").value = 55;
    $("roomHire").value = 0;
    $("dryHire").value = 0;
    $("security").value = 0;
    $("notes").value = "";
    calculate();
  }

  // Auto-update on input changes
  const ids = ["adults","children","adultSpend","childSpend","roomHire","dryHire","security","notes"];
  ids.forEach(id => $(id).addEventListener("input", calculate));

  $("calcBtn").addEventListener("click", calculate);
  $("resetBtn").addEventListener("click", resetAll);

  $("year").textContent = new Date().getFullYear();

  // Initial calc
  calculate();
</script>
</body>
</html>
